↓システムの方針
整形外科さんが紙ベースで記録しているカルテ・受信結果を、本システムに入力→医療費を請求する医療保険複数社のそれぞれのフォーマットに変換してダウンロードできるシステム

↓満たしたい要望
異なる院が使う可能性があるため、グループの概念あり。
そのグループの人が作成したカルテは、同じグループ内でしか触ることが出来ない。

ブラウザのセッションで自動ログイン（一定期間維持、phpセッションの有効期限を長くすることで維持）
ログインID&パスワードでログイン
利用規約（読むだけ）・ログアウト（退会画面は無し）
自身のアカウントのパスワード変更画面

アカウント作成（名前とパスワードを要入力。ログインIDは自動採番で、システム全体でユニーク）（同グループのアカウントのみ）（アカウント権限あり、あらゆる情報の編集閲覧詳細検索削除復活できる「管理者」・カルテや患者マスタも含めた新規入力と自身が登録したデータの編集に加えて閲覧者と同等機能の「入力者」・あらゆるデータの閲覧詳細検索ダウンロードのみ可能な「閲覧者」）
グループの作成と、そのグループの最初のアカウント作成は運営（開発者）がデータベースを直接編集することで実施、その後のアカウント追加は管理者が実施するものとする
アカウント検索・詳細・編集・削除（同グループのみ、編集削除は管理者のみ、編集できる内容はログインパスワードも含む。自分のも変更できるため、自分のパスワードを変更できる画面が2つあるように見えるはず）
入力者はあらゆるデータの削除できない。あらゆるデータの閲覧やダウンロードは可能

カルテ新規入力（自動採番されるカルテID＋必須入力の患者ID＋後述する運営が設定済みの入力項目）
カルテ新規入力時に、既存の患者マスタ（カルテIDを除いたすべての項目を保存。患者IDがキー。患者IDは後から変更不可）を選択して、テンプレート的にまとめて入力可能
カルテ新規入力時に、手書きのカルテをスキャンしたpdfもしくは画像をアップロードすると、chatgptのapiに問い合わせ、各入力項目を自動で入力してくれる。
カルテ新規乳辱完了時、新しい患者IDが登録されたとき、患者マスタを自動登録。
入力済みのカルテ検索・詳細・編集・削除。
カルテ検索から、各社別のフォーマットの保険請求書類のダウンロード（会社名や保険項目などから検索・並び替え画面を経由して選択）（htmlテンプレの変動値部分に、カルテの入力内容を反映し、jsのwindow.printで印刷ダイアログを表示→pdfとしてダウンロード可能。Chrome推奨でそれ以外はズレの可能性あり。複数一括ダウンロードは実装しない。どんなアカウント種別でも制限なしにダウンロード可能）
患者マスタの検索・詳細・編集（患者ID以外を編集可能）・削除
同じグループ内のアカウントの、行動履歴検索（あらゆるアカウントが閲覧可能。情報の入力編集や、請求書類のダウンロードなどの履歴）

アカウントの権限ごとの画面の違いは、各ボタンが押せるか押せないかの違いとする。押せないボタンは押せないような見た目になって、近くに「権限制限のため使用できません」という表示を置く
入力項目は、運営（開発者）が直接データベースを修正することで対応。入力項目は「1行入力」「改行入力」「選択肢式」「画像選択」のどれかになる。
保険請求書類のhtmlテンプレ追加は、運営（開発者）が本番環境へデプロイ＆データベースの編集を実施する。同一会社でも複数様式がありえるため、文書単位とする）

メール認証やパスワードリセットは無し

ログイン後にはヘッダーが常に表示され、ヘッダーにはシステムのロゴとハンバーガーメニューのみ
ホーム画面と、ハンバーガーメニューを開いた後のメニューには、「カルテ新規入力」「カルテ検索」「患者マスタ」「アカウント作成」「使用履歴」「ログイン情報変更」「利用規約」「ログアウト」が可能
アカウントはひとり1つとする。複数端末で同アカウントのログイン＆同時操作があった場合には、システムでは制御せず、動作を保証しない。
あらゆる検索は並び替えと削除済みのデータの閲覧ができるようにする。（デフォルトは削除済みデータは非表示）（アカウント種別にかかわらず）
あらゆる検索は結果が30件以上ある場合は、最初の30件のみ表示→「次の30件を表示」ボタン押下で次の30件表示という運びにする
あらゆる削除は論理削除とし、管理者のみ復活させることができる
